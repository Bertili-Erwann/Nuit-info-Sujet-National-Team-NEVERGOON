{% extends "base.html" %} 
{% block title %}Installation LINUX Interactive{% endblock %} 
{% block content %}

<style>
@keyframes pac-run {
  0% { left: -90px; transform: translateY(-50%); }
  100% { left: calc(100% + 90px); transform: translateY(-50%); }
}

.pacman-runner {
  width: 72px;
  height: 72px;
  animation: pac-run 5.5s linear infinite;
}

@keyframes link-walk {
  0% { left: -70px; transform: translateY(-50%); }
  100% { left: calc(100% + 70px); transform: translateY(-50%); }
}

.link-runner {
  width: 56px;
  height: 56px;
  animation: link-walk 8s linear infinite;
}

.sonic-stack img {
  transition: opacity 0.35s ease;
}

input#iso-downloaded:checked ~ .sonic-stack .waiting {
  opacity: 0;
}

input#iso-downloaded:checked ~ .sonic-stack .confirmed {
  opacity: 1;
}
</style>

<div class="rounded-lg bg-slate-900/80 p-6 border border-slate-700 shadow-lg">
  <h1 class="text-2xl font-bold text-emerald-200 mb-4">
    Guide d'installation de la distribution Linux NIRD
  </h1>

  <div class="mb-5">
    <p class="text-sky-200 font-semibold mb-2">Pr√©requis</p>
    <ul class="text-slate-100 space-y-1 list-disc list-inside">
      <li>Un PC sous Linux, Windows ou macOS</li>
      <li>Cl√© USB ou machine virtuelle pour tester l'ISO</li>
      <li>Connexion internet pour le t√©l√©chargement</li>
    </ul>
        <div class="mt-4 rounded-lg overflow-hidden border border-blue-300 bg-blue-500/30 relative h-28">
      <img src="{{ url_for('static', filename='images/pacman_eating.gif') }}" 
           alt="Animation Pacman" 
          class="pacman-runner absolute left-0 top-1/2" />
    </div>
    
  </div>

  <p class="text-amber-200 mb-3 font-semibold">
    √âtape 1 : T√©l√©chargement de l'ISO
  </p>
  <p class="text-slate-100 mb-4">
    Cliquez sur le lien ci-dessous pour t√©l√©charger l'image ISO de la
    distribution Linux NIRD. Une fois le t√©l√©chargement termin√©, cochez la case
    correspondante pour passer √† l'√©tape suivante.
  </p>
  
  <div class="mb-4">
     <a href="https://maths-code.fr/iso/NIRD-2025.iso" 
       class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded transition inline-block shadow"
       download>
      üì• T√©l√©charger l'ISO
    </a>
  </div>
  
  <div class="flex items-center gap-3">
    <input type="checkbox" id="iso-downloaded" 
           class="peer w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
    <label for="iso-downloaded" class="text-slate-100 cursor-pointer">
      J'ai t√©l√©charg√© l'ISO
    </label>
    <div class="sonic-stack relative w-12 h-12">
      <img src="{{ url_for('static', filename='images/sonic_waiting.gif') }}" 
        alt="Statut t√©l√©chargement" 
        class="waiting absolute inset-0 w-12 h-12 rounded opacity-100">
      <img src="{{ url_for('static', filename='images/sonic_finger.gif') }}" 
        alt="T√©l√©chargement confirm√©" 
        class="confirmed absolute inset-0 h-12 w-12 rounded object-contain opacity-0">
    </div>
  </div>

  <div class="mt-4 rounded-lg bg-slate-800/70 border border-slate-700 p-4 space-y-2">
    <p class="font-semibold text-amber-200">Mini quiz √©tape 1</p>
    <p class="text-slate-100">√Ä quoi sert l'ISO que tu viens de t√©l√©charger ?</p>
    <div class="flex flex-wrap gap-2">
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz1" data-correct="false">√Ä regarder comme un film</button>
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz1" data-correct="true">√Ä flasher sur la cl√© USB pour installer NIRD</button>
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz1" data-correct="false">√Ä graver sur un CD audio</button>
    </div>
    <p id="quiz1" class="text-sm text-slate-300"></p>
  </div>

  <div class="mt-8 space-y-3 text-slate-100">
    <p class="font-semibold text-lg text-amber-200">
      √âtape 2 : Cr√©er la cl√© USB bootable avec balenaEtcher
    </p>
    <ol class="list-decimal list-inside space-y-2">
      <li>T√©l√©charge balenaEtcher : <a class="underline font-semibold" href="https://etcher.balena.io/" target="_blank">etcher.balena.io</a></li>
      <li>Branche une cl√© USB (8 Go minimum).</li>
      <li>Ouvre Etcher ‚Üí "Flash from file" ‚Üí s√©lectionne l'ISO NIRD.</li>
      <li>"Select target" ‚Üí choisis ta cl√© USB.</li>
      <li>"Flash" ‚Üí attends la fin ‚Üí √©jecte la cl√© en toute s√©curit√©.</li>
    </ol>

    <div class="mt-4 rounded-lg bg-slate-800/70 border border-slate-700 p-4 space-y-2">
      <p class="font-semibold text-amber-200">Mini quiz √©tape 2</p>
      <p class="text-slate-100">Avec balenaEtcher, quelle est la bonne s√©quence ?</p>
      <div class="flex flex-wrap gap-2">
        <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz2" data-correct="false">Select target ‚Üí Flash from file ‚Üí Flash</button>
        <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz2" data-correct="true">Flash from file ‚Üí Select target ‚Üí Flash</button>
        <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz2" data-correct="false">On clique sur ¬´ Auto ¬ª et on attend</button>
      </div>
      <p id="quiz2" class="text-sm text-slate-300"></p>
    </div>

    <div class="grid gap-4 md:grid-cols-2">
      <div class="rounded-lg bg-slate-800/70 border border-slate-700 p-4">
        <p class="font-semibold mb-2 text-sky-200">Linux</p>
        <ul class="list-disc list-inside space-y-1 text-slate-100">
          <li>T√©l√©charge l'AppImage depuis le site.</li>
          <li>Rends-le ex√©cutable : <code class="bg-slate-700 px-1 rounded text-sky-100">chmod +x balenaEtcher-*.AppImage</code></li>
          <li>Lance-le : <code class="bg-slate-700 px-1 rounded text-sky-100">./balenaEtcher-*.AppImage</code></li>
          <li>Si une invite demande les droits admin pour √©crire sur l'USB, accepte.</li>
        </ul>
      </div>
      <div class="rounded-lg bg-slate-800/70 border border-slate-700 p-4">
        <p class="font-semibold mb-2 text-sky-200">macOS</p>
        <ul class="list-disc list-inside space-y-1 text-slate-100">
          <li>T√©l√©charge le .dmg depuis le site.</li>
          <li>Ouvre le .dmg et glisse balenaEtcher dans Applications.</li>
          <li>Au premier lancement : clic droit ‚Üí "Ouvrir" pour passer Gatekeeper.</li>
          <li>Autorise l'acc√®s au volume USB si demand√©.</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="mt-4 rounded-lg overflow-hidden border border-green-300 bg-green-500/30 relative h-24">
      <img src="{{ url_for('static', filename='images/link_walking.gif') }}" 
           alt="Animation Link" 
           class="link-runner absolute left-0 top-1/2" />
    </div>
  <div class="mt-8 space-y-3 text-slate-100">
    <p class="font-semibold text-lg text-amber-200">
      √âtape 3 : D√©marrer sur la cl√© USB (Boot Menu)
    </p>
    <ol class="list-decimal list-inside space-y-2">
      <li>Ins√®re la cl√© USB NIRD dans le PC √©teint.</li>
      <li>Allume le PC et appuie plusieurs fois sur la touche du Boot Menu.</li>
      <li>Dans le menu, choisis la cl√© USB comme p√©riph√©rique de d√©marrage.</li>
      <li>Valide (Entr√©e) et laisse le PC d√©marrer sur la cl√©.</li>
    </ol>

    <div class="grid gap-4 md:grid-cols-2">
      <div class="rounded-lg bg-slate-800/70 border border-slate-700 p-4">
        <p class="font-semibold mb-2 text-sky-200">Raccourcis Boot Menu fr√©quents</p>
        <ul class="list-disc list-inside space-y-1 text-slate-100">
          <li>HP / Dell : <code class="bg-slate-700 px-1 rounded text-sky-100">F9</code> ou <code class="bg-slate-700 px-1 rounded text-sky-100">F12</code></li>
          <li>Lenovo : <code class="bg-slate-700 px-1 rounded text-sky-100">F12</code></li>
          <li>ASUS / Acer : <code class="bg-slate-700 px-1 rounded text-sky-100">F8</code> ou <code class="bg-slate-700 px-1 rounded text-sky-100">F12</code></li>
          <li>MSI : <code class="bg-slate-700 px-1 rounded text-sky-100">F11</code></li>
          <li>Surface / Mac (Intel) : maintenir <code class="bg-slate-700 px-1 rounded text-sky-100">Option</code> (‚å•) au d√©marrage</li>
        </ul>
      </div>
      <div class="rounded-lg bg-slate-800/70 border border-slate-700 p-4">
        <p class="font-semibold mb-2 text-sky-200">Si le Boot Menu ne s'affiche pas</p>
        <ul class="list-disc list-inside space-y-1 text-slate-100">
          <li>√âteins compl√®tement, re-teste en martelant la touche d√®s l'allumage.</li>
          <li>V√©rifie l'ordre de boot dans le BIOS/UEFI et place l'USB en premier.</li>
          <li>Sur certains BIOS : d√©sactive Secure Boot si l'USB n'appara√Æt pas.</li>
          <li>Utilise un autre port USB (privil√©gie USB-A, pas de hub).</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="mt-4 rounded-lg bg-slate-800/70 border border-slate-700 p-4 space-y-2">
    <p class="font-semibold text-amber-200">Mini quiz √©tape 3</p>
    <p class="text-slate-100">Quelle action cl√© pour d√©marrer sur l'USB ?</p>
    <div class="flex flex-wrap gap-2">
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz3" data-correct="false">√âteindre le Wi-Fi</button>
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz3" data-correct="true">Ouvrir le Boot Menu et choisir la cl√© USB</button>
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz3" data-correct="false">D√©brancher le chargeur</button>
    </div>
    <p id="quiz3" class="text-sm text-slate-300"></p>
  </div>


  <div class="mt-8 space-y-3 text-slate-100">
    <p class="font-semibold text-lg text-amber-200">
      √âtape 4 : Installer et profiter de Linux NIRD
    </p>
    <p class="text-slate-100">
      Suivez les instructions de l‚Äôinstallateur : choisissez la langue, le clavier, le disque cible et laissez l‚Äôinstallation se terminer. Une fois le processus fini, retirez la cl√© USB si demand√©, red√©marrez et profitez d‚Äôun OS op√©rationnel. Bonne utilisation du Linux NIRD !
    </p>
  </div>

  <div class="mt-4 rounded-lg bg-slate-800/70 border border-slate-700 p-4 space-y-2">
    <p class="font-semibold text-amber-200">Mini quiz √©tape 4</p>
    <p class="text-slate-100">Apr√®s l'installation termin√©e, que fais-tu ?</p>
    <div class="flex flex-wrap gap-2">
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz4" data-correct="false">Formater imm√©diatement le disque</button>
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz4" data-correct="true">Retirer la cl√© si demand√©, red√©marrer et profiter</button>
      <button class="quiz-btn bg-slate-700 hover:bg-slate-600 text-white text-sm px-3 py-1 rounded transition" data-target="quiz4" data-correct="false">D√©brancher le PC sans red√©marrer</button>
    </div>
    <p id="quiz4" class="text-sm text-slate-300"></p>
  </div>

  <div class="mt-8 flex justify-center">
    <img src="{{ url_for('static', filename='images/lugia.gif') }}" 
         alt="Lugia conclusion" 
         class="rounded-lg max-w-md w-full" />
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const buttons = document.querySelectorAll('.quiz-btn');
      buttons.forEach((btn) => {
        btn.addEventListener('click', () => {
          const target = document.getElementById(btn.dataset.target);
          if (!target) return;
          const isCorrect = btn.dataset.correct === 'true';
          target.textContent = isCorrect ? '‚úÖ Bien vu !' : '‚ùå Pas tout √† fait, r√©essaie.';
          target.classList.remove('text-emerald-300', 'text-rose-300');
          target.classList.add(isCorrect ? 'text-emerald-300' : 'text-rose-300');
        });
      });
    });
  </script>
</div>
{% endblock %}
